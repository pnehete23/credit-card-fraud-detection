<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Card Fraud Detection - PowerBI-Style Analytics</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f3f2f1;
            color: #323130;
        }
        
        .powerbi-container {
            display: grid;
            grid-template-areas:
                "header header header"
                "filters main main"
                "filters main main";
            grid-template-columns: 280px 1fr 1fr;
            grid-template-rows: auto 1fr 1fr;
            height: 100vh;
            gap: 10px;
            padding: 10px;
        }
        
        .header {
            grid-area: header;
            background: linear-gradient(90deg, #0078d4 0%, #005a9e 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 13px;
            opacity: 0.9;
        }
        
        .filter-panel {
            grid-area: filters;
            background: white;
            border-radius: 4px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        
        .filter-section {
            margin-bottom: 25px;
        }
        
        .filter-section h3 {
            font-size: 14px;
            font-weight: 600;
            color: #0078d4;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .filter-option {
            display: flex;
            align-items: center;
            padding: 8px 0;
            cursor: pointer;
            transition: background 0.2s;
            border-radius: 4px;
            padding-left: 5px;
        }
        
        .filter-option:hover {
            background: #f3f2f1;
        }
        
        .filter-option input[type="checkbox"] {
            margin-right: 10px;
            cursor: pointer;
            width: 16px;
            height: 16px;
        }
        
        .filter-option label {
            cursor: pointer;
            font-size: 13px;
            flex: 1;
        }
        
        .metric-badge {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 3px;
            background: #e1dfdd;
            margin-left: 5px;
        }
        
        .slider-container {
            margin-top: 10px;
        }
        
        .slider {
            width: 100%;
            margin: 10px 0;
        }
        
        .slider-value {
            font-size: 12px;
            color: #605e5c;
            text-align: center;
            margin-top: 5px;
        }
        
        .main-content {
            grid-area: main;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .viz-card {
            background: white;
            border-radius: 4px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .viz-card.large {
            grid-column: span 2;
        }
        
        .viz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #0078d4;
        }
        
        .viz-title {
            font-size: 16px;
            font-weight: 600;
            color: #323130;
        }
        
        .viz-subtitle {
            font-size: 11px;
            color: #605e5c;
            margin-top: 3px;
        }
        
        .viz-actions {
            display: flex;
            gap: 5px;
        }
        
        .viz-action-btn {
            background: none;
            border: 1px solid #d2d0ce;
            border-radius: 3px;
            padding: 5px 10px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .viz-action-btn:hover {
            background: #f3f2f1;
            border-color: #0078d4;
        }
        
        .chart-container {
            flex: 1;
            position: relative;
            min-height: 250px;
        }
        
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 10px 0;
        }
        
        .kpi-card {
            background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
            color: white;
            padding: 20px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,120,212,0.2);
        }
        
        .kpi-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .kpi-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .kpi-change {
            font-size: 11px;
            opacity: 0.8;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }
        
        .comparison-table th {
            background: #f3f2f1;
            padding: 10px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #d2d0ce;
            position: sticky;
            top: 0;
        }
        
        .comparison-table td {
            padding: 10px;
            border-bottom: 1px solid #edebe9;
        }
        
        .comparison-table tr:hover {
            background: #faf9f8;
        }
        
        .score-bar {
            display: inline-block;
            height: 20px;
            background: linear-gradient(90deg, #0078d4, #50e6ff);
            border-radius: 3px;
            margin-right: 5px;
            transition: width 0.3s ease;
        }
        
        .model-active {
            background: #e1f5fe;
            font-weight: 600;
        }
        
        .refresh-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #0078d4;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,120,212,0.4);
            transition: all 0.3s;
        }
        
        .refresh-btn:hover {
            background: #005a9e;
            transform: scale(1.1);
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 5px;
        }
        
        .status-excellent { background: #107c10; }
        .status-good { background: #0078d4; }
        .status-moderate { background: #ff8c00; }
        .status-poor { background: #d13438; }
    </style>
</head>
<body>
    <div class="powerbi-container">
        <div class="header">
            <h1>üõ°Ô∏è Credit Card Fraud Detection Analytics</h1>
            <p>Machine Learning Model Performance Dashboard | Kaggle Dataset Analysis</p>
        </div>
        
        <div class="filter-panel">
            <div class="filter-section">
                <h3>üìä Model Filter</h3>
                <div class="filter-option">
                    <input type="checkbox" id="model-all" checked onchange="toggleAllModels(this)">
                    <label for="model-all"><strong>Select All</strong></label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" class="model-filter" data-model="XGBoost" checked onchange="updateDashboard()">
                    <label>XGBoost <span class="metric-badge">Best</span></label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" class="model-filter" data-model="Random Forest" checked onchange="updateDashboard()">
                    <label>Random Forest</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" class="model-filter" data-model="Neural Network" checked onchange="updateDashboard()">
                    <label>Neural Network</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" class="model-filter" data-model="Autoencoder" checked onchange="updateDashboard()">
                    <label>Autoencoder</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" class="model-filter" data-model="Logistic Regression" checked onchange="updateDashboard()">
                    <label>Logistic Regression</label>
                </div>
            </div>
            
            <div class="filter-section">
                <h3>üìà Metric Focus</h3>
                <div class="filter-option">
                    <input type="radio" name="metric" id="metric-f1" checked onchange="highlightMetric('f1')">
                    <label for="metric-f1">F1-Score</label>
                </div>
                <div class="filter-option">
                    <input type="radio" name="metric" id="metric-auc" onchange="highlightMetric('auc')">
                    <label for="metric-auc">AUC-ROC</label>
                </div>
                <div class="filter-option">
                    <input type="radio" name="metric" id="metric-precision" onchange="highlightMetric('precision')">
                    <label for="metric-precision">Precision</label>
                </div>
                <div class="filter-option">
                    <input type="radio" name="metric" id="metric-recall" onchange="highlightMetric('recall')">
                    <label for="metric-recall">Recall</label>
                </div>
            </div>
            
            <div class="filter-section">
                <h3>‚öôÔ∏è Performance Threshold</h3>
                <div class="slider-container">
                    <label style="font-size: 12px; color: #605e5c;">Minimum F1-Score</label>
                    <input type="range" class="slider" id="f1-threshold" min="0" max="100" value="0" onchange="filterByThreshold()">
                    <div class="slider-value" id="f1-threshold-value">0.00</div>
                </div>
            </div>
            
            <div class="filter-section">
                <h3>‚ÑπÔ∏è Dashboard Info</h3>
                <div style="font-size: 11px; color: #605e5c; line-height: 1.6;">
                    <p><strong>Dataset:</strong> Kaggle Credit Card Fraud</p>
                    <p><strong>Models:</strong> 5 Algorithms</p>
                    <p><strong>Metrics:</strong> 7 Performance Indicators</p>
                    <p><strong>Last Updated:</strong> Feb 2026</p>
                </div>
            </div>
            
            <div class="filter-section">
                <h3>üéØ Quick Actions</h3>
                <button class="viz-action-btn" style="width: 100%; margin-bottom: 8px;" onclick="exportData()">üì• Export Data</button>
                <button class="viz-action-btn" style="width: 100%; margin-bottom: 8px;" onclick="resetFilters()">üîÑ Reset Filters</button>
                <button class="viz-action-btn" style="width: 100%;" onclick="showInsights()">üí° View Insights</button>
            </div>
        </div>
        
        <div class="main-content">
            <div class="viz-card large">
                <div class="viz-header">
                    <div>
                        <div class="viz-title">Key Performance Indicators</div>
                        <div class="viz-subtitle">Top metrics across all models</div>
                    </div>
                </div>
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-label">Best F1-Score</div>
                        <div class="kpi-value">0.835</div>
                        <div class="kpi-change">XGBoost Model</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Best AUC-ROC</div>
                        <div class="kpi-value">0.971</div>
                        <div class="kpi-change">XGBoost Model</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Fastest Training</div>
                        <div class="kpi-value">8.8s</div>
                        <div class="kpi-change">XGBoost Model</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Best Precision</div>
                        <div class="kpi-value">0.874</div>
                        <div class="kpi-change">XGBoost Model</div>
                    </div>
                </div>
            </div>
            
            <div class="viz-card">
                <div class="viz-header">
                    <div>
                        <div class="viz-title">Model Performance Comparison</div>
                        <div class="viz-subtitle">Precision, Recall, F1-Score</div>
                    </div>
                    <div class="viz-actions">
                        <button class="viz-action-btn">‚öôÔ∏è</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
            
            <div class="viz-card">
                <div class="viz-header">
                    <div>
                        <div class="viz-title">AUC Metrics Analysis</div>
                        <div class="viz-subtitle">ROC vs Precision-Recall</div>
                    </div>
                    <div class="viz-actions">
                        <button class="viz-action-btn">‚öôÔ∏è</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="aucChart"></canvas>
                </div>
            </div>
            
            <div class="viz-card">
                <div class="viz-header">
                    <div>
                        <div class="viz-title">Training Efficiency</div>
                        <div class="viz-subtitle">Time vs Performance</div>
                    </div>
                    <div class="viz-actions">
                        <button class="viz-action-btn">‚öôÔ∏è</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="efficiencyChart"></canvas>
                </div>
            </div>
            
            <div class="viz-card">
                <div class="viz-header">
                    <div>
                        <div class="viz-title">Multi-Metric Radar</div>
                        <div class="viz-subtitle">Comprehensive model comparison</div>
                    </div>
                    <div class="viz-actions">
                        <button class="viz-action-btn">‚öôÔ∏è</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
            
            <div class="viz-card large">
                <div class="viz-header">
                    <div>
                        <div class="viz-title">Detailed Performance Matrix</div>
                        <div class="viz-subtitle">Sortable comparison table</div>
                    </div>
                    <div class="viz-actions">
                        <button class="viz-action-btn">üìä Sort</button>
                        <button class="viz-action-btn">üì• Export</button>
                    </div>
                </div>
                <div style="overflow-x: auto; flex: 1;">
                    <table class="comparison-table" id="comparisonTable">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th onclick="sortTable(1)">Model ‚ñº</th>
                                <th onclick="sortTable(2)">Precision ‚ñº</th>
                                <th onclick="sortTable(3)">Recall ‚ñº</th>
                                <th onclick="sortTable(4)">F1-Score ‚ñº</th>
                                <th onclick="sortTable(5)">AUC-ROC ‚ñº</th>
                                <th onclick="sortTable(6)">MCC ‚ñº</th>
                                <th onclick="sortTable(7)">Time (s) ‚ñº</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <button class="refresh-btn" onclick="location.reload()" title="Refresh Dashboard">‚Üª</button>
    
    <script>
        const modelData = {
            'XGBoost': {precision: 0.8736, recall: 0.8000, f1: 0.8352, aucRoc: 0.9713, aucPr: 0.8094, mcc: 0.8357, time: 8.82},
            'Random Forest': {precision: 0.8523, recall: 0.7895, f1: 0.8197, aucRoc: 0.9623, aucPr: 0.8041, mcc: 0.8200, time: 141.55},
            'Neural Network': {precision: 0.6250, recall: 0.7895, f1: 0.6977, aucRoc: 0.9393, aucPr: 0.7628, mcc: 0.7019, time: 41.82},
            'Autoencoder': {precision: 0.6076, recall: 0.5053, f1: 0.5517, aucRoc: 0.9523, aucPr: 0.4589, mcc: 0.5534, time: 16.24},
            'Logistic Regression': {precision: 0.0433, recall: 0.8632, f1: 0.0825, aucRoc: 0.9575, aucPr: 0.7317, mcc: 0.1892, time: 47.24}
        };
        
        const colors = {
            'XGBoost': '#0078d4',
            'Random Forest': '#107c10',
            'Neural Network': '#8764b8',
            'Autoencoder': '#ff8c00',
            'Logistic Regression': '#d13438'
        };
        
        let charts = {};
        
        function initCharts() {
            const activeModels = getActiveModels();
            
            // Performance Chart
            charts.performance = new Chart(document.getElementById('performanceChart'), {
                type: 'bar',
                data: {
                    labels: activeModels,
                    datasets: [
                        {label: 'Precision', data: activeModels.map(m => modelData[m].precision), backgroundColor: '#0078d4'},
                        {label: 'Recall', data: activeModels.map(m => modelData[m].recall), backgroundColor: '#107c10'},
                        {label: 'F1-Score', data: activeModels.map(m => modelData[m].f1), backgroundColor: '#ff8c00'}
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {legend: {position: 'bottom'}},
                    scales: {y: {beginAtZero: true, max: 1}}
                }
            });
            
            // AUC Chart
            charts.auc = new Chart(document.getElementById('aucChart'), {
                type: 'line',
                data: {
                    labels: activeModels,
                    datasets: [
                        {
                            label: 'AUC-ROC',
                            data: activeModels.map(m => modelData[m].aucRoc),
                            borderColor: '#0078d4',
                            backgroundColor: 'rgba(0,120,212,0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'AUC-PR',
                            data: activeModels.map(m => modelData[m].aucPr),
                            borderColor: '#107c10',
                            backgroundColor: 'rgba(16,124,16,0.1)',
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {legend: {position: 'bottom'}},
                    scales: {y: {beginAtZero: true, max: 1}}
                }
            });
            
            // Efficiency Chart
            charts.efficiency = new Chart(document.getElementById('efficiencyChart'), {
                type: 'scatter',
                data: {
                    datasets: activeModels.map(model => ({
                        label: model,
                        data: [{x: modelData[model].time, y: modelData[model].f1}],
                        backgroundColor: colors[model],
                        pointRadius: 10,
                        pointHoverRadius: 12
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {legend: {position: 'bottom'}},
                    scales: {
                        x: {title: {display: true, text: 'Training Time (s)'}},
                        y: {title: {display: true, text: 'F1-Score'}, max: 1}
                    }
                }
            });
            
            // Radar Chart
            charts.radar = new Chart(document.getElementById('radarChart'), {
                type: 'radar',
                data: {
                    labels: ['Precision', 'Recall', 'F1', 'AUC-ROC', 'AUC-PR', 'MCC'],
                    datasets: activeModels.map(model => ({
                        label: model,
                        data: [
                            modelData[model].precision,
                            modelData[model].recall,
                            modelData[model].f1,
                            modelData[model].aucRoc,
                            modelData[model].aucPr,
                            modelData[model].mcc
                        ],
                        backgroundColor: colors[model].replace(')', ', 0.2)').replace('rgb', 'rgba'),
                        borderColor: colors[model],
                        borderWidth: 2
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {legend: {position: 'bottom'}},
                    scales: {r: {beginAtZero: true, max: 1}}
                }
            });
            
            populateTable();
        }
        
        function getActiveModels() {
            return Array.from(document.querySelectorAll('.model-filter:checked'))
                .map(cb => cb.dataset.model);
        }
        
        function updateDashboard() {
            Object.values(charts).forEach(chart => chart.destroy());
            initCharts();
        }
        
        function toggleAllModels(checkbox) {
            document.querySelectorAll('.model-filter').forEach(cb => {
                cb.checked = checkbox.checked;
            });
            updateDashboard();
        }
        
        function highlightMetric(metric) {
            console.log('Highlighting metric:', metric);
        }
        
        function filterByThreshold() {
            const threshold = document.getElementById('f1-threshold').value / 100;
            document.getElementById('f1-threshold-value').textContent = threshold.toFixed(2);
            
            document.querySelectorAll('.model-filter').forEach(cb => {
                const model = cb.dataset.model;
                cb.checked = modelData[model].f1 >= threshold;
            });
            
            updateDashboard();
        }
        
        function populateTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            
            const activeModels = getActiveModels();
            activeModels.forEach(model => {
                const data = modelData[model];
                const status = data.f1 > 0.8 ? 'excellent' : data.f1 > 0.6 ? 'good' : data.f1 > 0.4 ? 'moderate' : 'poor';
                
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td><span class="status-indicator status-${status}"></span></td>
                    <td><strong>${model}</strong></td>
                    <td><span class="score-bar" style="width: ${data.precision * 80}px"></span>${data.precision.toFixed(4)}</td>
                    <td><span class="score-bar" style="width: ${data.recall * 80}px"></span>${data.recall.toFixed(4)}</td>
                    <td><span class="score-bar" style="width: ${data.f1 * 80}px"></span>${data.f1.toFixed(4)}</td>
                    <td><span class="score-bar" style="width: ${data.aucRoc * 80}px"></span>${data.aucRoc.toFixed(4)}</td>
                    <td><span class="score-bar" style="width: ${data.mcc * 80}px"></span>${data.mcc.toFixed(4)}</td>
                    <td>${data.time.toFixed(2)}</td>
                `;
            });
        }
        
        function sortTable(col) {
            console.log('Sorting by column:', col);
        }
        
        function exportData() {
            alert('Export functionality would download CSV/Excel file');
        }
        
        function resetFilters() {
            document.getElementById('model-all').checked = true;
            toggleAllModels(document.getElementById('model-all'));
            document.getElementById('f1-threshold').value = 0;
            document.getElementById('f1-threshold-value').textContent = '0.00';
            document.getElementById('metric-f1').checked = true;
        }
        
        function showInsights() {
            alert('Key Insights:\n\n‚úì XGBoost is the clear winner\n‚úì Fast training (8.8s) with best performance\n‚úì Random Forest is 16x slower\n‚úì Logistic Regression has low precision');
        }
        
        window.onload = initCharts;
    </script>
</body>
</html>
